(this["webpackJsonpauth-chat"]=this["webpackJsonpauth-chat"]||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},37:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(19),a=n.n(s),i=(n(37),n(15)),o=n.n(i),u=n(21),j=n(13),l=(n(28),n(12)),b=n(31),O=(n(43),b.a.initializeApp({apiKey:"AIzaSyDQTxpSOnYUkFR-lmVPFhQaHtt-pz1JRog",authDomain:"auth-react-38a9b.firebaseapp.com",projectId:"auth-react-38a9b",storageBucket:"auth-react-38a9b.appspot.com",messagingSenderId:"389084677103",appId:"1:389084677103:web:dc1746fef6d893b8f3ac1a"})),d=O.auth(),h=n(1),p=Object(c.createContext)();function m(e){var t=Object(c.useState)(),n=Object(j.a)(t,2),r=n[0],s=n[1],a=Object(c.useState)(!0),i=Object(j.a)(a,2),o=i[0],u=i[1];return Object(c.useEffect)((function(){return d.onAuthStateChanged((function(e){s(e),u(!1)}))}),[]),Object(h.jsx)(p.Provider,{value:{currentUser:r,login:function(e,t){return d.signInWithEmailAndPassword(e,t)},signup:function(e,t){return d.createUserWithEmailAndPassword(e,t)},logout:function(){return d.signOut()}},children:!o&&e.children})}var x=n(4);function f(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],s=Object(x.g)(),a=Object(c.useContext)(p).signup,i=Object(l.c)((function(e){return e})),b=Object(l.b)(),O=function(){b({type:"CLOSEMODAL"})};function d(){return(d=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),m.current[1].value===m.current[2].value){e.next=4;break}return r("Les mots de passe ne sont pas identiques"),e.abrupt("return");case 4:return e.next=6,a(m.current[0].value,m.current[1].value);case 6:O(),s.push("/loggedHome");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=Object(c.useRef)([]),f=function(e){e&&!m.current.includes(e)&&m.current.push(e)};return Object(h.jsxs)("div",{className:i.showSignUp?"global-modal":"hide-modal",children:[Object(h.jsx)("div",{onClick:O,className:"overlay"}),Object(h.jsxs)("div",{className:"container-modal",children:[Object(h.jsxs)("form",{onSubmit:function(e){return d.apply(this,arguments)},className:"form-auth",children:[Object(h.jsx)("h2",{children:"INSCRIPTION"}),Object(h.jsx)("label",{htmlFor:"mail",children:"Votre mail"}),Object(h.jsx)("input",{type:"email",ref:f,id:"mail",required:!0}),Object(h.jsx)("label",{htmlFor:"psw",children:"Votre mot de passe"}),Object(h.jsx)("input",{type:"password",ref:f,id:"psw",required:!0}),Object(h.jsx)("label",{htmlFor:"confirmpsw",children:"Confirmez le mot de passe"}),Object(h.jsx)("input",{type:"password",ref:f,id:"confirmpsw",required:!0}),n,Object(h.jsx)("button",{className:"btn-sign",children:"S'inscrire"})]}),Object(h.jsx)("button",{onClick:O,className:"btn-close",children:"X"}),Object(h.jsx)("p",{onClick:function(){b({type:"TOGGLEIN"})},className:"bottom-help-txt",children:"Vous \xeates d\xe9j\xe0 inscrit ? Connectez-vous."})]})]})}function v(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],s=Object(x.g)(),a=Object(c.useContext)(p).login,i=Object(l.c)((function(e){return e})),b=Object(l.b)(),O=function(){b({type:"CLOSEMODAL"})};function d(){return(d=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,a(m.current[0].value,m.current[1].value);case 4:s.push("/loggedHome"),O(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r("Email ou mot de passe incorrect");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var m=Object(c.useRef)([]),f=function(e){e&&!m.current.includes(e)&&m.current.push(e)};return Object(h.jsxs)("div",{className:i.showSignIn?"global-modal":"hide-modal",children:[Object(h.jsx)("div",{onClick:O,className:"overlay"}),Object(h.jsxs)("div",{className:"container-modal",children:[Object(h.jsxs)("form",{onSubmit:function(e){return d.apply(this,arguments)},className:"form-auth",children:[Object(h.jsx)("h2",{children:"CONNEXION"}),Object(h.jsx)("label",{htmlFor:"mail",children:"Votre mail"}),Object(h.jsx)("input",{type:"email",ref:f,id:"mail",required:!0}),Object(h.jsx)("label",{htmlFor:"psw",children:"Votre mot de passe"}),Object(h.jsx)("input",{type:"password",ref:f,id:"psw",required:!0}),n,Object(h.jsx)("button",{className:"btn-sign",children:"Se connecter"})]}),Object(h.jsx)("button",{onClick:O,className:"btn-close",children:"X"}),Object(h.jsx)("p",{onClick:function(){b({type:"TOGGLEUP"})},className:"bottom-help-txt",children:"Besoin de cr\xe9er un compte ?"})]})]})}n(47);function g(){var e=Object(l.b)();return Object(h.jsxs)("nav",{className:"navbar",children:[Object(h.jsx)("button",{onClick:function(){e({type:"TOGGLEIN"})},children:"Connexion"}),Object(h.jsx)("button",{onClick:function(){e({type:"TOGGLEUP"})},children:"Inscription"})]})}n(29);function w(){return Object(h.jsxs)("div",{className:"global-container",children:[Object(h.jsx)(g,{}),Object(h.jsxs)("div",{className:"content-container",children:[Object(h.jsx)("h1",{children:"Bienvenue sur le site"}),Object(h.jsx)("p",{children:"Connectez-vous pour acc\xe9der aux fonctionnalit\xe9s"})]}),Object(h.jsx)(f,{}),Object(h.jsx)(v,{})]})}var S=n(16);function N(){var e=Object(c.useContext)(p).logout;return Object(h.jsxs)("div",{className:"global-container",children:[Object(h.jsx)(g,{}),Object(h.jsx)(f,{}),Object(h.jsx)(v,{}),Object(h.jsxs)("div",{className:"content-container",children:[Object(h.jsx)("h1",{children:"Voici votre compte priv\xe9."}),Object(h.jsx)("p",{children:"Amusez-vous bien !"}),Object(h.jsx)("button",{onClick:e,children:"Se d\xe9connecter"})]})]})}var C=n(7),I=n(32);function y(e){var t=e.component,n=Object(I.a)(e,["component"]),r=Object(c.useContext)(p).currentUser;return Object(h.jsx)(x.b,Object(C.a)(Object(C.a)({},n),{},{render:function(){return r?Object(h.jsx)(t,{}):Object(h.jsx)(x.a,{to:"/"})}}))}var k=function(){return Object(h.jsx)(m,{children:Object(h.jsx)(S.a,{basename:"/Projet-8-React",children:Object(h.jsxs)(x.d,{children:[Object(h.jsx)(x.b,{exact:!0,path:"/",component:w}),Object(h.jsx)(y,{exact:!0,path:"/loggedHome",component:N})]})})})},E=n(22),U={showSignIn:!1,showSignUp:!1};var L=Object(E.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLEIN":return e.showSignIn?Object(C.a)(Object(C.a)({},e),{},{showSignIn:!1,showSignUp:!1}):Object(C.a)(Object(C.a)({},e),{},{showSignIn:!0,showSignUp:!1});case"TOGGLEUP":return e.showSignUp?Object(C.a)(Object(C.a)({},e),{},{showSignIn:!1,showSignUp:!1}):Object(C.a)(Object(C.a)({},e),{},{showSignIn:!1,showSignUp:!0});case"CLOSEMODAL":return Object(C.a)(Object(C.a)({},e),{},{showSignIn:!1,showSignUp:!1});default:return e}}));a.a.render(Object(h.jsx)(l.a,{store:L,children:Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(k,{})})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.a7628ebf.chunk.js.map