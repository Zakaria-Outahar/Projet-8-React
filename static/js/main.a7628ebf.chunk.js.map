{"version":3,"sources":["firebase.js","context/AuthContext.js","Components/AuthForm/SignUp.js","Components/AuthForm/SignIn.js","Components/Navbar/Navbar.js","Pages/Home/Home.js","Pages/PrivateHome/PrivateHome.js","Components/PrivateRoute.js","App.js","Reducers/modalsReducer.js","index.js"],"names":["app","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","AuthContext","createContext","AuthProvider","props","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","Provider","value","login","email","password","signInWithEmailAndPassword","signup","createUserWithEmailAndPassword","logout","signOut","children","SignUp","error","setError","history","useHistory","useContext","showModal","useSelector","state","dispatch","useDispatch","closeModal","type","e","a","preventDefault","inputs","current","push","useRef","addInputs","el","includes","className","showSignUp","onClick","onSubmit","htmlFor","ref","id","required","SignIn","showSignIn","Navbar","Home","PrivateHome","PrivateRoute","Component","component","rest","render","to","App","basename","process","exact","path","initialState","store","createStore","action","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a7628ebf.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\n\r\nconst app = firebase.initializeApp({\r\n        apiKey: \"AIzaSyDQTxpSOnYUkFR-lmVPFhQaHtt-pz1JRog\",\r\n        authDomain: \"auth-react-38a9b.firebaseapp.com\",\r\n        projectId: \"auth-react-38a9b\",\r\n        storageBucket: \"auth-react-38a9b.appspot.com\",\r\n        messagingSenderId: \"389084677103\",\r\n        appId: \"1:389084677103:web:dc1746fef6d893b8f3ac1a\"\r\n})\r\n\r\nexport const auth = app.auth();\r\nexport default app;","import React, {useState, useEffect, useContext, createContext} from 'react';\r\nimport { auth } from '../firebase';\r\n\r\nexport const AuthContext = createContext();\r\n\r\n\r\nexport function AuthProvider(props){\r\n\r\n    const [currentUser, setCurrentUser] = useState();\r\n\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    function signup(email, password){\r\n        return auth.createUserWithEmailAndPassword(email, password);\r\n    }\r\n\r\n    function login(email, password){\r\n        return auth.signInWithEmailAndPassword(email, password);\r\n    }\r\n\r\n    function logout(){\r\n        return auth.signOut();\r\n    }\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = auth.onAuthStateChanged(user => {\r\n            setCurrentUser(user);\r\n            setLoading(false);\r\n        })\r\n\r\n        return unsubscribe;\r\n    }, [])\r\n    \r\n\r\n    return (\r\n        <AuthContext.Provider value={{currentUser, login, signup, logout}}>\r\n            {!loading && props.children}\r\n        </AuthContext.Provider>\r\n    )\r\n}","import React, {useRef, useState, useContext} from 'react';\r\nimport './AuthForm.css';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nexport default function SignUp() {\r\n\r\n    const [error, setError] = useState(\"\");\r\n    const history = useHistory();\r\n    const {signup} = useContext(AuthContext);\r\n\r\n    const showModal = useSelector(state => state);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const closeModal = () => {\r\n        dispatch({\r\n            type:\"CLOSEMODAL\",\r\n        })\r\n    }\r\n\r\n    const toggleSignIn = () => {\r\n        dispatch({\r\n            type:\"TOGGLEIN\",\r\n        })\r\n    }\r\n\r\n    async function handleSubmit(e){\r\n        e.preventDefault();\r\n        if(inputs.current[1].value !== inputs.current[2].value){\r\n            setError(\"Les mots de passe ne sont pas identiques\");\r\n            return;\r\n        }\r\n\r\n        await signup(inputs.current[0].value, inputs.current[1].value);\r\n        closeModal();\r\n        history.push(\"/loggedHome\");\r\n\r\n        // inputs.current.forEach(inp => {\r\n        //     inp.value=\"\";\r\n        // })\r\n        // setError(\"\");\r\n    }\r\n\r\n    const inputs = useRef([]);\r\n\r\n    const addInputs = el => {\r\n        if(el && !inputs.current.includes(el)){\r\n            inputs.current.push(el);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={showModal.showSignUp ? \"global-modal\" : \"hide-modal\"}>\r\n            <div onClick={closeModal} className=\"overlay\"></div>\r\n\r\n            <div className=\"container-modal\">\r\n                <form onSubmit={handleSubmit} className=\"form-auth\">\r\n\r\n                    <h2>INSCRIPTION</h2>\r\n                    <label htmlFor=\"mail\">Votre mail</label>\r\n                    <input type=\"email\" ref={addInputs} id=\"mail\" required />\r\n\r\n                    <label htmlFor=\"psw\">Votre mot de passe</label>\r\n                    <input type=\"password\" ref={addInputs} id=\"psw\" required />\r\n\r\n                    <label htmlFor=\"confirmpsw\">Confirmez le mot de passe</label>\r\n                    <input type=\"password\" ref={addInputs} id=\"confirmpsw\" required />\r\n                    {error}\r\n                    <button className=\"btn-sign\">S'inscrire</button>\r\n                </form>\r\n                <button onClick={closeModal}  className=\"btn-close\">X</button>\r\n                <p \r\n                onClick={toggleSignIn}\r\n                className=\"bottom-help-txt\">Vous êtes déjà inscrit ? Connectez-vous.</p>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}","import React, {useRef, useState, useContext} from 'react';\r\nimport './AuthForm.css';\r\nimport {useSelector, useDispatch} from 'react-redux';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nexport default function SignIn() {\r\n\r\n    const [error, setError] = useState(\"\");\r\n    const history = useHistory();\r\n    const {login} = useContext(AuthContext);\r\n\r\n    const showModal = useSelector(state => state);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const closeModal = () => {\r\n        dispatch({\r\n            type:\"CLOSEMODAL\",\r\n        })\r\n    }\r\n\r\n    const toggleSignUp = () => {\r\n        dispatch({\r\n            type:\"TOGGLEUP\",\r\n        })\r\n    }\r\n\r\n    async function handleSubmit(e){\r\n        e.preventDefault();\r\n        try{\r\n            await login(inputs.current[0].value, inputs.current[1].value);\r\n            history.push('/loggedHome');\r\n            closeModal();\r\n        } catch{\r\n            setError('Email ou mot de passe incorrect');\r\n        }\r\n    }\r\n\r\n    const inputs = useRef([]);\r\n\r\n    const addInputs = el => {\r\n        if(el && !inputs.current.includes(el)){\r\n            inputs.current.push(el);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={showModal.showSignIn ? \"global-modal\" : \"hide-modal\"}>\r\n            <div onClick={closeModal} className=\"overlay\"></div>\r\n\r\n            <div className=\"container-modal\">\r\n                <form onSubmit={handleSubmit} className=\"form-auth\">\r\n\r\n                    <h2>CONNEXION</h2>\r\n                    <label htmlFor=\"mail\">Votre mail</label>\r\n                    <input type=\"email\" ref={addInputs} id=\"mail\" required />\r\n\r\n                    <label htmlFor=\"psw\">Votre mot de passe</label>\r\n                    <input type=\"password\" ref={addInputs} id=\"psw\" required />\r\n                    {error}\r\n                    <button className=\"btn-sign\">Se connecter</button>\r\n                </form>\r\n                <button onClick={closeModal} className=\"btn-close\">X</button>\r\n                <p \r\n                onClick={toggleSignUp}\r\n                className=\"bottom-help-txt\">Besoin de créer un compte ?</p>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}","import React from 'react';\r\nimport './Navbar.css';\r\nimport {useDispatch} from 'react-redux';\r\n\r\nexport default function Navbar() {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const toggleSignIn = () => {\r\n        dispatch({\r\n            type:\"TOGGLEIN\",\r\n        });\r\n    }\r\n\r\n    const toggleSignUp = () => {\r\n        dispatch({\r\n            type:\"TOGGLEUP\",\r\n        });\r\n    }\r\n\r\n    return (\r\n        <nav className=\"navbar\">\r\n            <button onClick={toggleSignIn}>Connexion</button>\r\n            <button onClick={toggleSignUp}>Inscription</button>\r\n        </nav>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport SignUp from '../../Components/AuthForm/SignUp';\r\nimport SignIn from '../../Components/AuthForm/SignIn';\r\nimport Navbar from '../../Components/Navbar/Navbar';\r\nimport './Home.css';\r\n\r\n\r\nexport default function Home() {\r\n    return (\r\n        <div className=\"global-container\">\r\n            <Navbar />\r\n            <div className=\"content-container\">\r\n                <h1>Bienvenue sur le site</h1>\r\n                <p>Connectez-vous pour accéder aux fonctionnalités</p>\r\n            </div>\r\n            <SignUp />\r\n            <SignIn />\r\n        </div>\r\n    )\r\n}","import React, {useContext} from 'react';\r\nimport SignUp from '../../Components/AuthForm/SignUp';\r\nimport SignIn from '../../Components/AuthForm/SignIn';\r\nimport Navbar from '../../Components/Navbar/Navbar';\r\nimport '../Home/Home.css';\r\nimport { AuthContext } from '../../context/AuthContext';\r\n\r\n\r\nexport default function PrivateHome() {\r\n\r\n    const {logout} = useContext(AuthContext);\r\n\r\n    return (\r\n        <div className=\"global-container\">\r\n            <Navbar />\r\n            <SignUp />\r\n            <SignIn />\r\n            <div className=\"content-container\">\r\n                <h1>Voici votre compte privé.</h1>\r\n                <p>Amusez-vous bien !</p>\r\n                <button onClick={logout}>Se déconnecter</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useContext} from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport { AuthContext } from '../context/AuthContext';\r\n\r\nexport default function PrivateRoute({component:Component, ...rest}) {\r\n\r\n    const {currentUser} = useContext(AuthContext);\r\n\r\n    return (\r\n        <Route\r\n        {...rest}\r\n        render={() => {\r\n            return currentUser ? <Component /> : <Redirect to=\"/\" />\r\n        }}\r\n        >\r\n            \r\n        </Route>\r\n    )\r\n}","import Home from './Pages/Home/Home';\nimport {AuthProvider} from './context/AuthContext';\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\nimport PrivateHome from './Pages/PrivateHome/PrivateHome';\nimport PrivateRoute from './Components/PrivateRoute';\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <Router basename={process.env.PUBLIC_URL}>\n        <Switch>\n          <Route exact path='/' component={Home} />\n          <PrivateRoute exact path='/loggedHome' component={PrivateHome} />\n        </Switch>\n      </Router>\n    </AuthProvider>\n  );\n}\n\nexport default App;\n","const initialState = {\r\n    showSignIn:false,\r\n    showSignUp:false,\r\n}\r\n\r\nexport default function modalsReducer(state=initialState, action){\r\n    switch(action.type){\r\n        case \"TOGGLEIN\":\r\n            if(state.showSignIn){\r\n                return{\r\n                    ...state,\r\n                    showSignIn:false,\r\n                    showSignUp:false,\r\n                }\r\n            } else{\r\n                return{\r\n                    ...state,\r\n                    showSignIn:true,\r\n                    showSignUp:false,\r\n                }\r\n            }\r\n        \r\n        case \"TOGGLEUP\":\r\n            if(state.showSignUp){\r\n                return{\r\n                    ...state,\r\n                    showSignIn:false,\r\n                    showSignUp:false,\r\n                }\r\n            } else{\r\n                return{\r\n                    ...state,\r\n                    showSignIn:false,\r\n                    showSignUp:true,\r\n                }\r\n            }\r\n        \r\n            case \"CLOSEMODAL\":\r\n                return{\r\n                    ...state,\r\n                    showSignIn:false,\r\n                    showSignUp:false,\r\n                }\r\n\r\n            default:\r\n                return state;\r\n    }\r\n}","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport {createStore} from 'redux';\nimport {Provider} from \"react-redux\";\nimport modalsReducer from './Reducers/modalsReducer';\n\nconst store = createStore(modalsReducer);\n\nReactDOM.render(\n\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}